import{Q as h,a as C,b as X}from"./QTabPanels.3863de05.js";import{_ as Q,a as q,B as L,r as p,o as N,g as f,d as b,f as o,w as t,e as n,h as I,Q as g,j as T,O as w,P as Y,R as Z,S as F,T as G,U as B,V as H,W as J,X as K,u as $,Y as ee,Z as re,$ as k,a0 as oe,a1 as M,a2 as P}from"./index.bfc523c8.js";import{Q as S}from"./QCardSection.2000525a.js";import{Q as v}from"./QCard.b4dcd35d.js";import{Q as ae}from"./QToggle.c6918154.js";import{u as U,a as y,c as x,Q as A,b as te}from"./array.c2820f2c.js";import"./use-cache.b0833c75.js";import"./use-checkbox.448a15f0.js";const le={setup(){const l=q(),r=L(()=>l.getters["system/systems"]),s=p(""),e=p(""),i=p(""),u=p(null),{handleSubmit:a}=U(),{value:m,errorMessage:_,handleBlur:c}=y("link",x().trim().required("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044B\u043B\u043A\u0443 \u0434\u043B\u044F \u043B\u043E\u0433\u043E\u0442\u0438\u043F\u0430")),{value:d,errorMessage:V,handleBlur:O}=y("brand",x().trim().required("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u041E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u0438")),{value:E,errorMessage:R,handleBlur:D}=y("footerText1",x().trim().required("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442 \u0434\u043B\u044F \u0444\u0443\u0442\u0435\u0440\u0430"));N(()=>{d.value=r.value.brand,m.value=r.value.link,E.value=r.value.footer.mainText,r.value.footer.secondaryText?s.value=r.value.footer.secondaryText:s.value="",r.value.footer.link?e.value=r.value.footer.link:e.value="",r.value.footer.linkTitle?i.value=r.value.footer.linkTitle:i.value="",u.value=r.value.lockedProfile});const j=a(async()=>{const z=r.value._id,W={brand:d.value,link:m.value,footer:{mainText:E.value,secondaryText:s.value,link:e.value,linkTitle:i.value},lockedProfile:u.value};try{await l.dispatch("system/update",{values:W,id:z})}catch{}});return{link:m,lError:_,lBlur:c,brand:d,bError:V,bBlur:O,footerText1:E,ft1Error:R,ft1Blur:D,footerText2:s,footerLink:e,footerLinkTitle:i,lockedProfile:u,onSubmit:j}}},ne={class:"q-pa-md"};function se(l,r,s,e,i,u){return f(),b("div",null,[o(v,{class:""},{default:t(()=>[o(S,null,{default:t(()=>[n("div",ne,[o(A,{onSubmit:I(e.onSubmit,["prevent","stop"]),class:"q-gutter-md"},{default:t(()=>[o(g,{modelValue:e.brand,"onUpdate:modelValue":r[0]||(r[0]=a=>e.brand=a),label:"\u0422\u0435\u043A\u0441\u0442 \u043B\u043E\u0433\u043E\u0442\u0438\u043F\u0430",error:!!e.bError,"error-message":e.bError},null,8,["modelValue","error","error-message"]),o(g,{modelValue:e.link,"onUpdate:modelValue":r[1]||(r[1]=a=>e.link=a),label:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043B\u043E\u0433\u043E\u0442\u0438\u043F\u0430",error:!!e.lError,"error-message":e.lError},null,8,["modelValue","error","error-message"]),o(g,{modelValue:e.footerText1,"onUpdate:modelValue":r[2]||(r[2]=a=>e.footerText1=a),label:"\u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u0442\u0435\u043A\u0441\u0442 \u0432 \u0444\u0443\u0442\u0435\u0440\u0435",error:!!e.ft1Error,"error-message":e.ft1Error},null,8,["modelValue","error","error-message"]),o(g,{modelValue:e.footerText2,"onUpdate:modelValue":r[3]||(r[3]=a=>e.footerText2=a),label:"\u0412\u0442\u043E\u0440\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430 \u0442\u0435\u043A\u0441\u0442\u0430 \u0432 \u0444\u0443\u0442\u0435\u0440\u0435"},null,8,["modelValue"]),o(g,{modelValue:e.footerLink,"onUpdate:modelValue":r[4]||(r[4]=a=>e.footerLink=a),label:"\u0421\u0441\u044B\u043B\u043A\u0430 \u0432 \u0444\u0443\u0442\u0435\u0440\u0435",type:"url"},null,8,["modelValue"]),o(g,{modelValue:e.footerLinkTitle,"onUpdate:modelValue":r[5]||(r[5]=a=>e.footerLinkTitle=a),label:"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A \u0441\u0441\u044B\u043B\u043A\u0438 \u0432 \u0444\u0443\u0442\u0435\u0440\u0435"},null,8,["modelValue"]),o(ae,{modelValue:e.lockedProfile,"onUpdate:modelValue":r[6]||(r[6]=a=>e.lockedProfile=a),label:"\u0417\u0430\u043F\u0440\u0435\u0442\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043B\u0438\u0447\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"},null,8,["modelValue"]),n("div",null,[o(T,{class:"q-mr-md",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",type:"submit",color:"primary"})])]),_:1},8,["onSubmit"])])]),_:1})]),_:1})])}var ie=Q(le,[["render",se],["__scopeId","data-v-6ad2e8e4"]]);const de={setup(){const l=q(),{handleSubmit:r}=U(),{value:s,errorMessage:e}=y("prefix",x().trim().required("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0440\u0435\u0444\u0438\u043A\u0441 \u043D\u0443\u043C\u0435\u0440\u0430\u0446\u0438\u0438")),{value:i,errorMessage:u}=y("num",te().required("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u043E\u043C\u0435\u0440 \u0437\u0430\u044F\u0432\u043A\u0438, \u0441 \u043A\u043E\u0440\u043E\u0442\u043E\u0433\u043E \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0431\u0443\u0434\u0435\u0442 \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u043D\u0443\u043C\u0435\u0440\u0430\u0446\u0438\u044E").min(0,"\u0427\u0438\u0441\u043B\u043E \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0431\u043E\u043B\u044C\u0448\u0435 0").integer("\u0427\u0438\u0441\u043B\u043E \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0446\u0435\u043B\u044B\u043C")),a=L(()=>l.getters["orderTrainingNumbering/ordersNumbering"]);N(()=>{s.value=a.value[0].prefix,i.value=a.value[0].num});const m=r(async _=>{try{await l.dispatch("orderTrainingNumbering/update",{..._,id:a.value[0]._id})}catch{}});return{prefix:s,num:i,pError:e,nError:u,numbering:a,onSubmit:m}}},ue={class:"q-pa-md"},me=n("div",{class:"text-subtitle1 text-center"}," \u041F\u043E\u0432\u044B\u0448\u0435\u043D\u0438\u0435 \u043A\u0432\u0430\u043B\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u0438 \u041D\u041A \u0438 \u0420\u0418 ",-1);function ce(l,r,s,e,i,u){return f(),b("div",null,[o(v,{class:""},{default:t(()=>[o(S,null,{default:t(()=>[n("div",ue,[me,o(A,{onSubmit:I(e.onSubmit,["prevent","stop"]),class:"q-gutter-md"},{default:t(()=>[o(g,{modelValue:e.prefix,"onUpdate:modelValue":r[0]||(r[0]=a=>e.prefix=a),label:"\u041F\u0440\u0435\u0444\u0438\u043A\u0441 \u043D\u0443\u043C\u0435\u0440\u0430\u0446\u0438\u0438",error:!!e.pError,"error-message":e.pError},null,8,["modelValue","error","error-message"]),o(g,{modelValue:e.num,"onUpdate:modelValue":r[1]||(r[1]=a=>e.num=a),label:"\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0430\u0442\u044C \u043D\u0443\u043C\u0435\u0440\u0430\u0446\u0438\u044E \u0441",type:"number",error:!!e.nError,"error-message":e.nError},null,8,["modelValue","error","error-message"]),n("div",null,[o(T,{class:"q-mr-md",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",type:"submit",color:"primary"})])]),_:1},8,["onSubmit"])])]),_:1})]),_:1})])}var fe=Q(de,[["render",ce]]);const ge={props:{storeLink:{type:String,required:!0},storeName:{type:String,required:!0}},setup(l){const r=q(),s=L(()=>r.getters[`settingsConfigurable/${l.storeName}`]),{handleSubmit:e,resetForm:i}=U(),{value:u,errorMessage:a}=y("newVal",x().trim().required("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435")),m=e(async c=>{const d=l.storeLink;await r.dispatch("settingsConfigurable/create",{values:c,link:d}),await r.dispatch("settingsConfigurable/load",d),i()});return{options:s,newVal:u,nError:a,onSubmit:m,onRemove:async c=>{const d=l.storeLink;c&&d&&(await r.dispatch("settingsConfigurable/remove",{id:c,link:d}),await r.dispatch("settingsConfigurable/load",d))}}}},_e={class:"option-group-wrapper"},pe={class:"option-group"},ve={key:1,class:"q-pa-md text-grey-6"};function be(l,r,s,e,i,u){return f(),b("div",null,[n("div",_e,[n("div",pe,[e.options.length?(f(),w(F,{key:0,dense:""},{default:t(()=>[(f(!0),b(Y,null,Z(e.options,(a,m)=>(f(),w(G,{key:m},{default:t(()=>[o(B,{avatar:""},{default:t(()=>[o(T,{onClick:_=>e.onRemove(a._id),color:"red",icon:"delete",size:"sm"},null,8,["onClick"])]),_:2},1024),o(B,null,{default:t(()=>[o(H,null,{default:t(()=>[J(K(a.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(f(),b("div",ve," \u0421\u043F\u0438\u0441\u043E\u043A \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0439 \u043F\u0443\u0441\u0442. \u0414\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u043D\u043E\u0432\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 "))])]),n("div",null,[o(g,{"bottom-slots":"",modelValue:e.newVal,"onUpdate:modelValue":r[0]||(r[0]=a=>e.newVal=a),label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",error:!!e.nError,"error-message":e.nError},{append:t(()=>[o(T,{onClick:e.onSubmit,round:"",dense:"",flat:"",icon:"add"},null,8,["onClick"])]),_:1},8,["modelValue","error","error-message"])])])}var ye=Q(ge,[["render",be]]);const Ve={title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",titleTemplate:l=>`${l} | \u041D\u043E\u0432\u044B\u0435 \u0442\u0435\u0445\u043D\u043E\u043B\u043E\u0433\u0438\u0438`},ke={setup(){$(Ve);const l=p(!1),r=q();return N(async()=>{l.value=!0,await r.dispatch("orderTrainingNumbering/load"),await r.dispatch("settingsConfigurable/load","ownership-type"),await r.dispatch("settingsConfigurable/load","certification-system"),l.value=!1}),{tab:p("system"),loading:l}},components:{AppPage:ee,AppLoader:re,SettingsSystem:ie,SettingsOrderNumbering:fe,SettingsConfigurable:ye}},Se={class:"q-gutter-y-md"},xe={key:0},Te={class:"q-mt-none"},we={class:"row q-col-gutter-sm"},Qe={class:"col-12 col-sm-6 col-md-4"},qe={class:"q-mt-none"},Ee={class:"q-pa-sm"};function he(l,r,s,e,i,u){const a=k("AppLoader"),m=k("SettingsSystem"),_=k("SettingsOrderNumbering"),c=k("SettingsConfigurable"),d=k("app-page");return f(),w(d,{title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"},{default:t(()=>[n("div",Se,[e.loading?(f(),b("div",xe,[o(a)])):(f(),w(v,{key:1},{default:t(()=>[o(oe,{modelValue:e.tab,"onUpdate:modelValue":r[0]||(r[0]=V=>e.tab=V),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:t(()=>[o(h,{name:"system",label:"\u0421\u0438\u0441\u0442\u0435\u043C\u043D\u044B\u0435"}),o(h,{name:"orderNumbering",label:"\u0417\u0430\u044F\u0432\u043A\u0438"}),o(h,{name:"configurable",label:"\u041A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0443\u0435\u043C\u044B\u0435"})]),_:1},8,["modelValue"]),o(M),o(X,{modelValue:e.tab,"onUpdate:modelValue":r[1]||(r[1]=V=>e.tab=V),animated:""},{default:t(()=>[o(C,{name:"system"},{default:t(()=>[n("div",Te,[o(m)])]),_:1}),o(C,{name:"orderNumbering"},{default:t(()=>[n("div",null,[n("div",we,[n("div",Qe,[o(_)])])])]),_:1}),o(C,{name:"configurable"},{default:t(()=>[n("div",qe,[o(v,{class:""},{default:t(()=>[o(S,null,{default:t(()=>[n("div",Ee,[o(F,{bordered:""},{default:t(()=>[o(P,{group:"somegroup",label:"\u0424\u043E\u0440\u043C\u0430 \u0441\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0441\u0442\u0438 \u043F\u0440\u0435\u0434\u043F\u0440\u0438\u044F\u0442\u0438\u044F","default-opened":"","header-class":"text-grey-8 bg-cyan-1"},{default:t(()=>[o(v,null,{default:t(()=>[o(S,null,{default:t(()=>[o(c,{storeLink:"ownership-type",storeName:"ownershipTypes"})]),_:1})]),_:1})]),_:1}),o(M),o(P,{group:"somegroup",label:"\u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 ","header-class":"text-grey-8 bg-cyan-1"},{default:t(()=>[o(v,null,{default:t(()=>[o(S,null,{default:t(()=>[o(c,{storeLink:"certification-system",storeName:"certificationSystems"})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1}))])]),_:1})}var Ae=Q(ke,[["render",he]]);export{Ae as default};
