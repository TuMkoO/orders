var J=Object.defineProperty,K=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var P=(t,e,l)=>e in t?J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,I=(t,e)=>{for(var l in e||(e={}))ee.call(e,l)&&P(t,l,e[l]);if(M)for(var l of M(e))re.call(e,l)&&P(t,l,e[l]);return t},F=(t,e)=>K(t,$(e));var p=(t,e,l)=>new Promise((r,s)=>{var c=d=>{try{i(l.next(d))}catch(m){s(m)}},a=d=>{try{i(l.throw(d))}catch(m){s(m)}},i=d=>d.done?r(d.value):Promise.resolve(d.value).then(c,a);i((l=l.apply(t,e)).next())});import{Q as C,a as L,b as oe}from"./QTabPanels.a0b2de9b.js";import{_ as q,a as E,B as N,r as v,o as U,g,d as y,f as o,w as n,e as u,h as D,Q as _,j as w,O as Q,P as ae,R as te,S as j,T as le,U as A,V as ne,W as se,X as ie,u as de,Y as ue,Z as me,$ as S,a0 as ce,a1 as O,a2 as R}from"./index.c6ab3c0f.js";import{Q as x}from"./QCardSection.d2c13724.js";import{Q as b}from"./QCard.e574469e.js";import{Q as fe}from"./QToggle.3555097a.js";import{u as B,a as V,c as T,Q as z,b as ge}from"./array.90849054.js";import"./use-cache.b0833c75.js";import"./use-checkbox.1a9422ec.js";const _e={setup(){const t=E(),e=N(()=>t.getters["system/systems"]),l=v(""),r=v(""),s=v(""),c=v(null),{handleSubmit:a}=B(),{value:i,errorMessage:d,handleBlur:m}=V("link",T().trim().required("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044B\u043B\u043A\u0443 \u0434\u043B\u044F \u043B\u043E\u0433\u043E\u0442\u0438\u043F\u0430")),{value:f,errorMessage:k,handleBlur:W}=V("brand",T().trim().required("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u041E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0446\u0438\u0438")),{value:h,errorMessage:X,handleBlur:Y}=V("footerText1",T().trim().required("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442 \u0434\u043B\u044F \u0444\u0443\u0442\u0435\u0440\u0430"));U(()=>{f.value=e.value.brand,i.value=e.value.link,h.value=e.value.footer.mainText,e.value.footer.secondaryText?l.value=e.value.footer.secondaryText:l.value="",e.value.footer.link?r.value=e.value.footer.link:r.value="",e.value.footer.linkTitle?s.value=e.value.footer.linkTitle:s.value="",c.value=e.value.lockedProfile});const Z=a(()=>p(this,null,function*(){const G=e.value._id,H={brand:f.value,link:i.value,footer:{mainText:h.value,secondaryText:l.value,link:r.value,linkTitle:s.value},lockedProfile:c.value};try{yield t.dispatch("system/update",{values:H,id:G})}catch(Oe){}}));return{link:i,lError:d,lBlur:m,brand:f,bError:k,bBlur:W,footerText1:h,ft1Error:X,ft1Blur:Y,footerText2:l,footerLink:r,footerLinkTitle:s,lockedProfile:c,onSubmit:Z}}},pe={class:"q-pa-md"};function ve(t,e,l,r,s,c){return g(),y("div",null,[o(b,{class:""},{default:n(()=>[o(x,null,{default:n(()=>[u("div",pe,[o(z,{onSubmit:D(r.onSubmit,["prevent","stop"]),class:"q-gutter-md"},{default:n(()=>[o(_,{modelValue:r.brand,"onUpdate:modelValue":e[0]||(e[0]=a=>r.brand=a),label:"\u0422\u0435\u043A\u0441\u0442 \u043B\u043E\u0433\u043E\u0442\u0438\u043F\u0430",error:!!r.bError,"error-message":r.bError},null,8,["modelValue","error","error-message"]),o(_,{modelValue:r.link,"onUpdate:modelValue":e[1]||(e[1]=a=>r.link=a),label:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043B\u043E\u0433\u043E\u0442\u0438\u043F\u0430",error:!!r.lError,"error-message":r.lError},null,8,["modelValue","error","error-message"]),o(_,{modelValue:r.footerText1,"onUpdate:modelValue":e[2]||(e[2]=a=>r.footerText1=a),label:"\u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u0442\u0435\u043A\u0441\u0442 \u0432 \u0444\u0443\u0442\u0435\u0440\u0435",error:!!r.ft1Error,"error-message":r.ft1Error},null,8,["modelValue","error","error-message"]),o(_,{modelValue:r.footerText2,"onUpdate:modelValue":e[3]||(e[3]=a=>r.footerText2=a),label:"\u0412\u0442\u043E\u0440\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430 \u0442\u0435\u043A\u0441\u0442\u0430 \u0432 \u0444\u0443\u0442\u0435\u0440\u0435"},null,8,["modelValue"]),o(_,{modelValue:r.footerLink,"onUpdate:modelValue":e[4]||(e[4]=a=>r.footerLink=a),label:"\u0421\u0441\u044B\u043B\u043A\u0430 \u0432 \u0444\u0443\u0442\u0435\u0440\u0435",type:"url"},null,8,["modelValue"]),o(_,{modelValue:r.footerLinkTitle,"onUpdate:modelValue":e[5]||(e[5]=a=>r.footerLinkTitle=a),label:"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A \u0441\u0441\u044B\u043B\u043A\u0438 \u0432 \u0444\u0443\u0442\u0435\u0440\u0435"},null,8,["modelValue"]),o(fe,{modelValue:r.lockedProfile,"onUpdate:modelValue":e[6]||(e[6]=a=>r.lockedProfile=a),label:"\u0417\u0430\u043F\u0440\u0435\u0442\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043B\u0438\u0447\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"},null,8,["modelValue"]),u("div",null,[o(w,{class:"q-mr-md",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",type:"submit",color:"primary"})])]),_:1},8,["onSubmit"])])]),_:1})]),_:1})])}var be=q(_e,[["render",ve],["__scopeId","data-v-6ad2e8e4"]]);const ye={setup(){const t=E(),{handleSubmit:e}=B(),{value:l,errorMessage:r}=V("prefix",T().trim().required("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0440\u0435\u0444\u0438\u043A\u0441 \u043D\u0443\u043C\u0435\u0440\u0430\u0446\u0438\u0438")),{value:s,errorMessage:c}=V("num",ge().required("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u043E\u043C\u0435\u0440 \u0437\u0430\u044F\u0432\u043A\u0438, \u0441 \u043A\u043E\u0440\u043E\u0442\u043E\u0433\u043E \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0431\u0443\u0434\u0435\u0442 \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u043D\u0443\u043C\u0435\u0440\u0430\u0446\u0438\u044E").min(0,"\u0427\u0438\u0441\u043B\u043E \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0431\u043E\u043B\u044C\u0448\u0435 0").integer("\u0427\u0438\u0441\u043B\u043E \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0446\u0435\u043B\u044B\u043C")),a=N(()=>t.getters["orderTrainingNumbering/ordersNumbering"]);U(()=>{l.value=a.value[0].prefix,s.value=a.value[0].num});const i=e(d=>p(this,null,function*(){try{yield t.dispatch("orderTrainingNumbering/update",F(I({},d),{id:a.value[0]._id}))}catch(m){}}));return{prefix:l,num:s,pError:r,nError:c,numbering:a,onSubmit:i}}},Ve={class:"q-pa-md"},ke=u("div",{class:"text-subtitle1 text-center"}," \u041F\u043E\u0432\u044B\u0448\u0435\u043D\u0438\u0435 \u043A\u0432\u0430\u043B\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u0438 \u041D\u041A \u0438 \u0420\u0418 ",-1);function Se(t,e,l,r,s,c){return g(),y("div",null,[o(b,{class:""},{default:n(()=>[o(x,null,{default:n(()=>[u("div",Ve,[ke,o(z,{onSubmit:D(r.onSubmit,["prevent","stop"]),class:"q-gutter-md"},{default:n(()=>[o(_,{modelValue:r.prefix,"onUpdate:modelValue":e[0]||(e[0]=a=>r.prefix=a),label:"\u041F\u0440\u0435\u0444\u0438\u043A\u0441 \u043D\u0443\u043C\u0435\u0440\u0430\u0446\u0438\u0438",error:!!r.pError,"error-message":r.pError},null,8,["modelValue","error","error-message"]),o(_,{modelValue:r.num,"onUpdate:modelValue":e[1]||(e[1]=a=>r.num=a),label:"\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0430\u0442\u044C \u043D\u0443\u043C\u0435\u0440\u0430\u0446\u0438\u044E \u0441",type:"number",error:!!r.nError,"error-message":r.nError},null,8,["modelValue","error","error-message"]),u("div",null,[o(w,{class:"q-mr-md",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",type:"submit",color:"primary"})])]),_:1},8,["onSubmit"])])]),_:1})]),_:1})])}var xe=q(ye,[["render",Se]]);const Te={props:{storeLink:{type:String,required:!0},storeName:{type:String,required:!0}},setup(t){const e=E(),l=N(()=>e.getters[`settingsConfigurable/${t.storeName}`]),{handleSubmit:r,resetForm:s}=B(),{value:c,errorMessage:a}=V("newVal",T().trim().required("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435")),i=r(m=>p(this,null,function*(){const f=t.storeLink;yield e.dispatch("settingsConfigurable/create",{values:m,link:f}),yield e.dispatch("settingsConfigurable/load",f),s()}));return{options:l,newVal:c,nError:a,onSubmit:i,onRemove:m=>p(this,null,function*(){const f=t.storeLink;m&&f&&(yield e.dispatch("settingsConfigurable/remove",{id:m,link:f}),yield e.dispatch("settingsConfigurable/load",f))})}}},we={class:"option-group-wrapper"},Qe={class:"option-group"},qe={key:1,class:"q-pa-md text-grey-6"};function Ee(t,e,l,r,s,c){return g(),y("div",null,[u("div",we,[u("div",Qe,[r.options.length?(g(),Q(j,{key:0,dense:""},{default:n(()=>[(g(!0),y(ae,null,te(r.options,(a,i)=>(g(),Q(le,{key:i},{default:n(()=>[o(A,{avatar:""},{default:n(()=>[o(w,{onClick:d=>r.onRemove(a._id),color:"red",icon:"delete",size:"sm"},null,8,["onClick"])]),_:2},1024),o(A,null,{default:n(()=>[o(ne,null,{default:n(()=>[se(ie(a.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(g(),y("div",qe," \u0421\u043F\u0438\u0441\u043E\u043A \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0439 \u043F\u0443\u0441\u0442. \u0414\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u043D\u043E\u0432\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 "))])]),u("div",null,[o(_,{"bottom-slots":"",modelValue:r.newVal,"onUpdate:modelValue":e[0]||(e[0]=a=>r.newVal=a),label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",error:!!r.nError,"error-message":r.nError},{append:n(()=>[o(w,{onClick:r.onSubmit,round:"",dense:"",flat:"",icon:"add"},null,8,["onClick"])]),_:1},8,["modelValue","error","error-message"])])])}var he=q(Te,[["render",Ee]]);const Ce={title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",titleTemplate:t=>`${t} | \u041D\u043E\u0432\u044B\u0435 \u0442\u0435\u0445\u043D\u043E\u043B\u043E\u0433\u0438\u0438`},Le={setup(){de(Ce);const t=v(!1),e=E();return U(()=>p(this,null,function*(){t.value=!0,yield e.dispatch("orderTrainingNumbering/load"),yield e.dispatch("settingsConfigurable/load","ownership-type"),yield e.dispatch("settingsConfigurable/load","certification-system"),t.value=!1})),{tab:v("system"),loading:t}},components:{AppPage:ue,AppLoader:me,SettingsSystem:be,SettingsOrderNumbering:xe,SettingsConfigurable:he}},Ne={class:"q-gutter-y-md"},Ue={key:0},Be={class:"q-mt-none"},Me={class:"row q-col-gutter-sm"},Pe={class:"col-12 col-sm-6 col-md-4"},Ie={class:"q-mt-none"},Fe={class:"q-pa-sm"};function Ae(t,e,l,r,s,c){const a=S("AppLoader"),i=S("SettingsSystem"),d=S("SettingsOrderNumbering"),m=S("SettingsConfigurable"),f=S("app-page");return g(),Q(f,{title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"},{default:n(()=>[u("div",Ne,[r.loading?(g(),y("div",Ue,[o(a)])):(g(),Q(b,{key:1},{default:n(()=>[o(ce,{modelValue:r.tab,"onUpdate:modelValue":e[0]||(e[0]=k=>r.tab=k),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:n(()=>[o(C,{name:"system",label:"\u0421\u0438\u0441\u0442\u0435\u043C\u043D\u044B\u0435"}),o(C,{name:"orderNumbering",label:"\u0417\u0430\u044F\u0432\u043A\u0438"}),o(C,{name:"configurable",label:"\u041A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0443\u0435\u043C\u044B\u0435"})]),_:1},8,["modelValue"]),o(O),o(oe,{modelValue:r.tab,"onUpdate:modelValue":e[1]||(e[1]=k=>r.tab=k),animated:""},{default:n(()=>[o(L,{name:"system"},{default:n(()=>[u("div",Be,[o(i)])]),_:1}),o(L,{name:"orderNumbering"},{default:n(()=>[u("div",null,[u("div",Me,[u("div",Pe,[o(d)])])])]),_:1}),o(L,{name:"configurable"},{default:n(()=>[u("div",Ie,[o(b,{class:""},{default:n(()=>[o(x,null,{default:n(()=>[u("div",Fe,[o(j,{bordered:""},{default:n(()=>[o(R,{group:"somegroup",label:"\u0424\u043E\u0440\u043C\u0430 \u0441\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0441\u0442\u0438 \u043F\u0440\u0435\u0434\u043F\u0440\u0438\u044F\u0442\u0438\u044F","default-opened":"","header-class":"text-grey-8 bg-cyan-1"},{default:n(()=>[o(b,null,{default:n(()=>[o(x,null,{default:n(()=>[o(m,{storeLink:"ownership-type",storeName:"ownershipTypes"})]),_:1})]),_:1})]),_:1}),o(O),o(R,{group:"somegroup",label:"\u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 ","header-class":"text-grey-8 bg-cyan-1"},{default:n(()=>[o(b,null,{default:n(()=>[o(x,null,{default:n(()=>[o(m,{storeLink:"certification-system",storeName:"certificationSystems"})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1}))])]),_:1})}var He=q(Le,[["render",Ae]]);export{He as default};
